\subsubsection{Exponential Family}

The \definition{Exponential Family} is a big \textbf{family of probability distributions that share a convenient mathematical form}.

\highspace
\textcolor{Green3}{\faIcon{question-circle} \textbf{Why do we care?}} Because GLMs are \textbf{built} for any distribution in this family, the math works cleanly and link functions are easy to define.

\highspace
\begin{flushleft}
    \textcolor{Green3}{\faIcon{book} \textbf{Canonical form}}
\end{flushleft}
A distribution belongs to the \textbf{exponential family} if its probability density (or mass) function can be written as:
\begin{equation}
    f(y; \, \theta, \, \phi) = \exp \left( \dfrac{y \theta - b(\theta)}{a(\phi)} + c(y, \, \phi) \right)
\end{equation}
Where:
\begin{itemize}
    \item $\theta$: the \textbf{canonical (natural) parameter}.
    \item $b(\theta)$: controls the mean.
    \item $a(\phi)$: the \textbf{dispersion parameter} (like variance).
    \item $c(y, \phi)$: normalizes it.
\end{itemize}
\definition{Canonical form} is a standardized, structured way to write the probability distribution from the exponential family. It is like a ``template'' that all members of the exponential family can fit into.

\highspace
\begin{flushleft}
    \textcolor{Green3}{\faIcon{question-circle} \textbf{Why we use this form}}
\end{flushleft}
This form has standard formulas for the mean and variance:
\begin{itemize}
    \item The \textbf{mean}: $E[Y] = b'\left(\theta\right)$
    \item The \textbf{variance}: $\text{Var}\left(Y\right) = b''\left(\theta\right) a\left(\phi\right)$
\end{itemize}
So they're easy to work with! Also, it is useful for GLMs because it assumes our data comes from an exponential family distribution. This \textbf{guarantees there's a link function that connects the mean to the linear predictor}.

\highspace
This is the theoretical backbone of GLMs: \hl{every GLM assumes the response comes from the exponential family}.

\begin{table}[!htp]
    \centering
    \begin{tabular}{@{} l l l l @{}}
        \toprule
        Distribution & Random variable & Canonical parameter $\theta$ & Common link \\
        \midrule
        Normal      & $Y \in \mathbb{R}$    & $\mu$                 & Identity  \\ [.3em]
        Bernoulli   & $Y \in \{0,1\}$       & $\log \frac{p}{1-p}$  & Logit     \\ [.3em]
        Poisson     & $Y \in \{0,1,2,...\}$ & $\log \lambda$        & Log       \\
        \bottomrule
    \end{tabular}
    \caption{Examples of exponential family members.}
\end{table}