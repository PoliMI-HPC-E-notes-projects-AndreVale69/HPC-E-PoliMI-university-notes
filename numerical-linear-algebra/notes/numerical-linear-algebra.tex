\documentclass[a4paper]{article}
\usepackage[T1]{fontenc}			% \chapter package
\usepackage[english]{babel}
\usepackage[english]{isodate}  		% date format
\usepackage{graphicx}				% manage images
\usepackage{amsfonts}
\usepackage{booktabs}				% high quality tables
\usepackage{amsmath}				% math package
\usepackage{amssymb}				% another math package (e.g. \nexists)
\usepackage{bm}                     % bold math symbols
\usepackage{mathtools}				% emphasize equations
\usepackage{stmaryrd} 				% '\llbracket' and '\rrbracket'
\usepackage{amsthm}					% better theorems
\usepackage{enumitem}				% manage list
\usepackage{pifont}					% nice itemize
\usepackage{cancel}					% cancel math equations
\usepackage{caption}				% custom caption
\usepackage[]{mdframed}				% box text
\usepackage{multirow}				% more lines in a table
\usepackage{textcomp, gensymb}		% degree symbol
\usepackage[x11names]{xcolor}		% RGB color
\usepackage[many]{tcolorbox}		% colorful box
\usepackage{multicol}				% more rows in a table (used for the lists)
\usepackage{listings}
\usepackage{url}
\usepackage{qrcode}
\usepackage{fontawesome5}
\usepackage{ragged2e}
\usepackage{cite}                   % references
\usepackage{imakeidx}               % index
\makeindex[program=makeindex, columns=1,
           title=Index, 
           intoc,
           options={-s index-style.ist}]
\usepackage{fancyhdr}
\usepackage{tikz}
\usepackage{pgf}
\usepackage{lmodern}
\usepackage{svg}

%\pdfcompresslevel=0
%\pdfobjcompresslevel=0

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{255,255,255}
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
	commentstyle=\color{codegreen},
	keywordstyle=\color{magenta},
	numberstyle=\tiny\color{codegray},
	stringstyle=\color{codepurple},
	basicstyle=\ttfamily\footnotesize,
	breakatwhitespace=false,         
	breaklines=true,                 
	captionpos=b,                    
	keepspaces=true,                 
	numbers=left,                    
	numbersep=5pt,                  
	showspaces=false,                
	showstringspaces=false,
	showtabs=false,                  
	tabsize=2,
    mathescape,
    frame=lines
}
\lstset{style=mystyle}


% thanks Mico: https://tex.stackexchange.com/a/60218/312896
\makeatletter
\renewcommand\paragraph{\@startsection{paragraph}{4}{\z@}%
            {-2.5ex\@plus -1ex \@minus -.25ex}%
            {1.25ex \@plus .25ex}%
            {\normalfont\normalsize\bfseries}}
\makeatother
\setcounter{secnumdepth}{4} % how many sectioning levels to assign numbers to
\setcounter{tocdepth}{4}    % how many sectioning levels to show in ToC


% draw a frame around given text
\newcommand{\framedtext}[1]{%
	\par%
	\noindent\fbox{%
		\parbox{\dimexpr\linewidth-2\fboxsep-2\fboxrule}{#1}%
	}%
}


% table of content links
\usepackage{xcolor}
\usepackage[linkcolor=black, citecolor=blue, urlcolor=cyan]{hyperref} % hypertexnames=false
\hypersetup{
	colorlinks=true
}


\newtheorem{theorem}{\textcolor{Red3}{\underline{Theorem}}}
\newtheorem{lemma}[theorem]{\textcolor{Red3}{\underline{Lemma}}}
\renewcommand{\qedsymbol}{QED}
\newcommand{\dquotes}[1]{``#1''}
\newcommand{\longline}{\noindent\rule{\textwidth}{0.4pt}}
\newcommand{\circledtext}[1]{\raisebox{.5pt}{\textcircled{\raisebox{-.9pt}{#1}}}}
\newcommand{\definition}[1]{\textcolor{Red3}{\textbf{#1}}\index{#1}}
\newcommand{\definitionWithSpecificIndex}[2]{\textcolor{Red3}{\textbf{#1}}\index{#2}}
\newcommand{\example}[1]{\textcolor{Green4}{\textbf{#1}}}
\newcommand{\highspace}{\vspace{1.2em}\noindent}
\newcommand{\vectorNormSymbol}{\left|\left|\cdot\right|\right|}
\newcommand{\important}[1]{\textcolor{red}{\textbf{#1}}}
\newcommand{\version}{v1.2.0}
\newcommand{\nnz}{\mathrm{nnz}} % non-zero entries
\newcommand{\hqlabel}[2]{\label{#1}\hypertarget{#1}{#2}}
\newcommand{\hqpageref}[1]{\hyperlink{#1}{\hypergetpageref{#1}}}

% development
% \includeonly{
%     sections/exams/exams,
%     sections/exams/2024/july-03,
%     sections/exams/2024/june-17,
%     sections/exams/2024/january-23
% }


\begin{document}
    \newcounter{definition}[section]
    \newcounter{example}[section]
    \newcounter{exercise}[section]
    
    \newtcolorbox[use counter = definition]{definitionbox}[1][]{%
        breakable,
        enhanced,
        colback=red!5!white,
        colframe=red!75!black,
        fonttitle=\bfseries,
        title={Definition \thetcbcounter#1} %
    }

    \newtcolorbox[use counter = exercise]{exercisebox}[1][]{%
        breakable,
        enhanced,
        colback=Red3!5!white,
        colframe=Red3!75!black,
        fonttitle=\bfseries,
        title={Exercise \thetcbcounter#1} %
    }
    
    \newtcolorbox[use counter = example]{examplebox}[1][]{%
        breakable,
        enhanced,
        colback=Green4!5!white,
        colframe=Green4!75!black,
        fonttitle=\bfseries,
        title={Example \thetcbcounter#1} %
    }

    \newtcolorbox[]{deepeningbox}[1][]{%
        breakable,
        enhanced,
        colback=DarkOrange3!5!white,
        colframe=DarkOrange3!75!black,
        fonttitle=\bfseries,
        title={Deepening#1} %
    }

    \newtcolorbox[]{tipbox}[1][]{%
    breakable,
    enhanced,
    colback=Blue2!5!white,
    colframe=Blue2!75!black,
    fonttitle=\bfseries,
    title={\faIcon{lightbulb} Tip#1} %
}

    %%%%%%%%%%%%%%%
    % Notes cover %
    %%%%%%%%%%%%%%%
    \include{sections/notes-cover}

    %%%%%%%%%%%
    % Preface %
    %%%%%%%%%%%
	\include{sections/preface}

    %%%%%%%%%%%%%%%%%%%%%
    % Table of contents %
    %%%%%%%%%%%%%%%%%%%%%
    \tableofcontents
    \newpage

    %%%%%%%%%%%%%%%%%%%
    % Fancy pagestyle %
    %%%%%%%%%%%%%%%%%%%
    \pagestyle{fancy}
    \fancyhead{} % clear all header fields
    \fancyhead[R]{\nouppercase{\leftmark\hfill\rightmark}}
    
    %%%%%%%%%%%%%%%%%
    % Preliminaries %
    %%%%%%%%%%%%%%%%%
    \include{sections/preliminaries/notation}
    \include{sections/preliminaries/matrix-operations}
    \include{sections/preliminaries/basic-matrix-decompositions}
    \include{sections/preliminaries/determinants}
    \include{sections/preliminaries/sparse-matrices}

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % Iterative methods for linear systems of equations %
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \include{sections/iterative-methods-for-linear-systems-of-equations/why-not-use-the-directi-methods}
    \include{sections/iterative-methods-for-linear-systems-of-equations/linear-iterative-methods/definition}
    \include{sections/iterative-methods-for-linear-systems-of-equations/linear-iterative-methods/jacobi-method}
    \include{sections/iterative-methods-for-linear-systems-of-equations/linear-iterative-methods/gauss-seidel-method}
    \include{sections/iterative-methods-for-linear-systems-of-equations/linear-iterative-methods/convergence-of-jacobi-and-gauss-seidel-methods}
    \include{sections/iterative-methods-for-linear-systems-of-equations/linear-iterative-methods/the-stationary-richardson-method}
    \include{sections/iterative-methods-for-linear-systems-of-equations/stopping-criteria}
    \include{sections/iterative-methods-for-linear-systems-of-equations/preconditioning-techniques}
    \include{sections/iterative-methods-for-linear-systems-of-equations/gradient-method}
    \include{sections/iterative-methods-for-linear-systems-of-equations/conjugate-gradient-method}
    \include{sections/iterative-methods-for-linear-systems-of-equations/krylov-space/krylov-space}
    \include{sections/iterative-methods-for-linear-systems-of-equations/krylov-space/biconjugate-gradient-bicg-and-bicgstab-method}
    \include{sections/iterative-methods-for-linear-systems-of-equations/krylov-space/generalized-minimum-residual-gmres-method}

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % Solving large scale eigenvalue problems %
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \include{sections/solving-large-scale-eigenvalue-problems/eigenvalue-problems}
    \include{sections/solving-large-scale-eigenvalue-problems/power-method/power-method}
    \include{sections/solving-large-scale-eigenvalue-problems/power-method/deflation-method}
    \include{sections/solving-large-scale-eigenvalue-problems/inverse-power-method/inverse-power-method}
    \include{sections/solving-large-scale-eigenvalue-problems/inverse-power-method/inverse-power-method-with-shift}
    \include{sections/solving-large-scale-eigenvalue-problems/qr-factorization/qr-factorization}
    \include{sections/solving-large-scale-eigenvalue-problems/qr-factorization/schur-decomposition-applied-to-qr-algorithm}
    \include{sections/solving-large-scale-eigenvalue-problems/qr-factorization/hessenberg-applied-to-qr-algorithm}
    \include{sections/solving-large-scale-eigenvalue-problems/lanczos-method}

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % Numerical methods for overdetermined linear systems and SVD %
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \include{sections/numerical-methods-for-overdetermined-linear-systems-and-svd/what-are-overdetermined-systems}
    \include{sections/numerical-methods-for-overdetermined-linear-systems-and-svd/singular-value-decomposition-svd}

    %%%%%%%%%%%%%%%%%%%%%
    % Multigrid methods %
    %%%%%%%%%%%%%%%%%%%%%
    \include{sections/multigrid-methods/idea-of-mg-methods}
    \include{sections/multigrid-methods/how-it-works/how-it-works}
    \include{sections/multigrid-methods/how-it-works/coarse-grids}
    \include{sections/multigrid-methods/how-it-works/correction}
    \include{sections/multigrid-methods/how-it-works/interpolation-operator}
    \include{sections/multigrid-methods/how-it-works/restriction-operator}
    \include{sections/multigrid-methods/how-it-works/two-grid-scheme}
    \include{sections/multigrid-methods/how-it-works/v-cycle-scheme}
    \include{sections/multigrid-methods/classical-algebraic-multigrid-amg}

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % Domain Decomposition Methods %
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \include{sections/domain-decomposition-methods/introduction}
    \include{sections/domain-decomposition-methods/overlapping-subdomains/alternating-schwarz-method}
    \include{sections/domain-decomposition-methods/overlapping-subdomains/discretized-schwarz-methods}
    \include{sections/domain-decomposition-methods/overlapping-subdomains/multiplicative-schwarz-method}
    \include{sections/domain-decomposition-methods/overlapping-subdomains/additive-schwarz-method}
    \include{sections/domain-decomposition-methods/overlapping-subdomains/many-overlapping-subdomains}
    \include{sections/domain-decomposition-methods/overlapping-subdomains/colouring-technique}
    \include{sections/domain-decomposition-methods/non-overlapping-subdomains/introduction}
    \include{sections/domain-decomposition-methods/non-overlapping-subdomains/the-schur-complement}
    \include{sections/domain-decomposition-methods/non-overlapping-subdomains/many-non-overlapping-subdomains}
    
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % Direct Methods for Linear Systems %
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \include{sections/direct-methods-for-linear-systems/lu-factorization}
    \include{sections/direct-methods-for-linear-systems/gaussian-elimination}
    \include{sections/direct-methods-for-linear-systems/cholesky-factorization}
    \include{sections/direct-methods-for-linear-systems/pivoting/pivoting}
    \include{sections/direct-methods-for-linear-systems/pivoting/pivoting-by-rows}
    \include{sections/direct-methods-for-linear-systems/pivoting/complete-pivoting}
    \include{sections/direct-methods-for-linear-systems/fill-in}

    %%%%%%%%%
    % Exams %
    %%%%%%%%%
    \include{sections/exams/exams}
    \include{sections/exams/2024/july-03}
    \include{sections/exams/2024/june-17}
    \include{sections/exams/2024/january-23}

    %%%%%%%%%%%%%%%%%%%%%%%%%%
    % Bibliography and index %
    %%%%%%%%%%%%%%%%%%%%%%%%%%
    \include{sections/bibliography-and-index}
\end{document}