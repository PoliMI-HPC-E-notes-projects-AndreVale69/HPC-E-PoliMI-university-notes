\section{Laboratory}

For the laboratory, I created a simple repository containing all the code implementations and \texttt{CMake} files necessary to compile the code in a CLion environment:
\begin{center}
    \href{https://github.com/PoliMI-HPC-E-notes-projects-AndreVale69/NM4PDE-labs}{NM4PDE GitHub Repository} \hspace{1em} \qrcode{https://github.com/PoliMI-HPC-E-notes-projects-AndreVale69/NM4PDE-labs}
\end{center}

\subsection{Introduction}

The laboratory sessions complement the theoretical course by providing a\break \textbf{hands-on experience} in the numerical approximation of PDEs. The main goal is to bridge the gap between the mathematical formulation of PDEs, their variational and finite element discretizations, and their actual computer implementation.

\highspace
Throughout the laboratories, we will progressively construct finite element solvers for a variety of model PDEs:
\begin{itemize}
    \item Starting from the Poisson equation in 1D, moving towards multidimensional diffusion-reaction problems;
    \item Introducing verification and validation strategies for numerical codes;
    \item Extending to time-dependent problems such as the heat equation;
    \item Exploring nonlinear PDEs, elasticity, and saddle-point problems such as Stokes flows.
\end{itemize}
Each laboratory is designed to emphasize not only the \textbf{mathematical correctness} of the discretization, but also the \textbf{computational aspects}: efficiency, robustness, and scalability.

\highspace
\begin{flushleft}
    \textcolor{Green3}{\faIcon{book} \textbf{Software}}
\end{flushleft}
The laboratory relies on:
\begin{itemize}
    \item \texttt{deal.II} is an open-source \texttt{C++} software library for solving partial differential equations (PDEs) using the finite element method (FEM). 
    
    The name \texttt{deal.II} stands for ``Differential Equations Analysis Library, version II''. It is a finite element framework designed to make it easier to implement complex numerical methods for PDEs. It is widely used in both academia and industry for research, education, and simulation.

    \textcolor{Green3}{\faIcon{question-circle} \textbf{Why is it used in laboratories?}} It provides full control over every step of the FEM pipeline: mesh generation, assembly, linear solvers, visualization. It forces us to understand the mathematics and the implementation, instead of just using a black-box solver. Finally, it is well documented and has extensive tutorial programs (step-1, step-2, â€¦), which the laboratory exercises build upon.

    \textcolor{Green3}{\faIcon{question-circle} \textbf{Why do people say that \texttt{deal.II} is complicated?}} It's a \texttt{C++} library, not a GUI tool. Unlike COMSOL or ANSYS, we write \texttt{C++} code that uses \texttt{deal.II}'s classes. That means we need to understand:
    \begin{itemize}
        \item FEM theory (variational forms, weak formulations, basis functions);
        \item The \texttt{C++} programming model (templates, object-oriented design);
        \item The linear algebra backend (solvers, preconditioners).
    \end{itemize}
    The first labs are deliberately kept simple because even setting up a finite element mesh, assembling the stiffness matrix, and applying boundary conditions requires some work.

    \textcolor{Green3}{\faIcon{question-circle} \textbf{Why is \texttt{deal.II} respected?}} Despite the initial complexity, \texttt{deal.II} is \textbf{very mature and widely used in scientific computing}. Aerospace, automotive, and energy companies use FEM frameworks like \texttt{deal.II}, FEniCS, or proprietary codes to simulate physical systems. Research groups in Europe and the US use \texttt{deal.II} on HPC clusters for multiphysics and optimization problems.


    \item \texttt{ParaView} is an \textbf{open-source data analysis and visualization application}. It's designed to handle very large scientific datasets (from MBs to TBs). Our finite element codes produce numerical solutions (vectors of values at mesh nodes, or fields defined in VTK/VTU file formats). These are not human-friendly to interpret. ParaView lets us \textbf{load the mesh and solution} files produced by \texttt{deal.II}. We can then \textbf{plot solutions in 2D/3D}, extract values along a line or surface, animate time-dependent results, compute integrals, etc..


    \item \texttt{gmsh} is an \textbf{open-source mesh generator} (also with a built-in post-processor). It allows us to create computational grids for finite element methods. For simple domains (intervals, unit squares, unit cubes),\break \texttt{deal.II} can generate meshes internally. But for \textbf{non-trivial geometries} (like irregular domains, or those with boundary partitions), we need an external mesh generator.
\end{itemize}
In addition, profiling and debugging tools (e.g. \texttt{TimerOutput}, \texttt{gperftools}) are used to analyze and optimize performance.

\highspace
\begin{flushleft}
    \textcolor{Green3}{\faIcon{\speedIcon} \textbf{Computational Environment}}
\end{flushleft}
While the course suggests using the MK module system, a more versatile approach is to work with either:
\begin{itemize}
    \item a \textbf{native installation} of the required software stack (\texttt{deal.II}, \texttt{ParaView}, \texttt{gmsh}, etc.), or
    \item a \textbf{Docker container}, which ensures reproducibility and avoids configuration issues.
\end{itemize}
These alternatives are recommended for who prefer independence from the university's MK modules and allow seamless experimentation on personal or cloud-based machines.

\newpage

\begin{flushleft}
    \textcolor{Green3}{\faIcon{tools} \textbf{Environment Setup}}
\end{flushleft}
Download version \texttt{9.5.0} of \texttt{deal.II} (which we are using for the course) from their website, following their guide. If we are using WSL or Ubuntu, we can download it more easily using the command:
\begin{lstlisting}[language=bash]
sudo apt-get install libdeal.ii-dev
\end{lstlisting}
Download the \texttt{ParaView} visualization software from its original website:
\begin{center}
    \href{https://www.paraview.org/download/}{ParaView} \vspace{3em} \qrcode{https://www.paraview.org/download/}
\end{center}

\noindent
If we're using Ubuntu, the easier command for the latest version is:
\begin{lstlisting}[language=bash]
sudo apt install paraview
\end{lstlisting}